{% extends "base.html" %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        {% include "components/search_bar.html" %}
    </div>
</div>

<div class="date-selector mb-4">
    <input type="date" class="form-control" id="dateSelector" 
           value="{{ selected_date.strftime('%Y-%m-%d') if selected_date else '' }}">
</div>

{% include "components/category_selectors.html" %}

<div id="events-content">
    {% for category in categories %}
    <div class="category-section mb-5" data-category-id="{{ category.Categoria.categoria_id }}">
        <h2 class="mb-3">{{ category.Categoria.nombre }}</h2>
        <div class="events-container">
            <!-- Events will be loaded here dynamically -->
        </div>
    </div>
    {% endfor %}
</div>

<!-- Article Modal - Include once at root level -->
{% include "components/article_modal.html" %}
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/category_handlers.js') }}"></script>
<script src="{{ url_for('static', filename='js/carousel.js') }}"></script>
<script src="{{ url_for('static', filename='js/search.js') }}"></script>
<script src="{{ url_for('static', filename='js/article_modal.js') }}"></script>
{% endblock %}
